# Импортируем класс Flask для создания веб-приложения!
from flask import Flask
# Импортируем datetime, чтобы получать текущее время
from datetime import datetime

# Создаем экземпляр нашего приложения
app = Flask(__name__)

# Создаем "маршрут" (route). Это URL-адрес, по которому будет доступна наша функция.
# '/' означает главную страницу сайта.
@app.route('/')
def hello_world_with_time():
    # Получаем текущее время и форматируем его в строку
    current_time = datetime.now().strftime("%Y-%m-%d %H:%M:%S")
    # Возвращаем HTML-строку, которая будет показана в браузере
    return f"<h1>Привет из Flask!</h1><p>Текущее время на сервере: {current_time}</p>"

# Эта часть кода выполняется, только если мы запускаем этот файл напрямую
if __name__ == '__main__':
    # Запускаем веб-сервер
    # host='0.0.0.0' делает его доступным извне, что критически важно для Docker
    app.run(host='0.0.0.0', port=5000)
